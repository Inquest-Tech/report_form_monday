var $jscomp=$jscomp||{};function overlay(){$(".overlay, .overlay--close").click(function(){$(".overlay").removeClass("active"),$(".overlay-content").removeClass("active")})}function cpfcnpjValidation(){$(".cpfcnpj-validation").on("keyup",function(){var a=$(this).val(),e=$(this);if(14==a.length){var t=a.trim();t=(t=(t=t.replace(/\./g,"")).replace("-","")).split("");for(var n=0,r=0,o=!1,s=1;t.length>s;s++)t[s-1]!=t[s]&&(o=!0);0==o&&e.addClass("error");for(var s=0,i=10;t.length-2>s;s++,i--)n+=t[s]*i;10==(n=10*n%11)&&(n=0),n!=t[9]&&e.addClass("error");for(s=0,i=11;t.length-1>s;s++,i--)r+=t[s]*i;if(10==(r=10*r%11)&&(r=0),r==t[10])return e.removeClass("error"),!0;e.addClass("error")}else if(18==a.length){var c=a.trim();c=(c=(c=(c=c.replace(/\./g,"")).replace("-","")).replace("/","")).split("");for(n=0,r=0,o=!1,s=1;c.length>s;s++)c[s-1]!=c[s]&&(o=!0);0==o&&e.addClass("error");for(var s=0,l=5,p=13;c.length-2>s;s++,l--,p--)n+=2<=l?c[s]*l:c[s]*p;(n=(n%=11)<2?0:11-n)!=c[12]&&e.addClass("error");for(s=0,l=6,p=14;c.length-1>s;s++,l--,p--)r+=2<=l?c[s]*l:c[s]*p;if((r=(r%=11)<2?0:11-r)==c[13])return e.removeClass("error"),!0;e.addClass("error")}else e.addClass("error")})}function mask(){function r(a){return 11===a.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"}var a={onKeyPress:function(a,e,t,n){t.mask(r.apply({},arguments),n)}};$(".mask-phone").mask(r,a);function o(a){return 14===a.replace(/\D/g,"").length?(cpfcnpjValidation(),"00.000.000/0000-00"):(cpfcnpjValidation(),"000.000.000-009999")}a={onKeyPress:function(a,e,t,n){t.mask(o.apply({},arguments),n)}};$(".mask-cpfcnpj").mask(o,a)}function navmenu(){$(".hamburger").click(function(){$(this).toggleClass("active"),$(".navmenu").toggleClass("active")})}$jscomp.scope={},$jscomp.findInternal=function(a,e,t){a instanceof String&&(a=String(a));for(var n=a.length,r=0;r<n;r++){var o=a[r];if(e.call(t,o,r,a))return{i:r,v:o}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,t){a!=Array.prototype&&a!=Object.prototype&&(a[e]=t.value)},$jscomp.getGlobal=function(a){return("undefined"==typeof window||window!==a)&&"undefined"!=typeof global&&null!=global?global:a},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(a,e,t,n){if(e){for(t=$jscomp.global,a=a.split("."),n=0;n<a.length-1;n++){var r=a[n];r in t||(t[r]={}),t=t[r]}(e=e(n=t[a=a[a.length-1]]))!=n&&null!=e&&$jscomp.defineProperty(t,a,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("Array.prototype.find",function(a){return a||function(a,e){return $jscomp.findInternal(this,a,e).v}},"es6","es3"),function(a,e,t){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports&&"undefined"==typeof Meteor?module.exports=a(require("jquery")):a(e||t)}(function(s){function i(l,k,y){var $={invalid:[],getCaret:function(){try{var a=0,e=l.get(0),t=document.selection,e=e.selectionStart;return t&&-1===navigator.appVersion.indexOf("MSIE 10")?((t=t.createRange()).moveStart("character",-$.val().length),a=t.text.length):!e&&"0"!==e||(a=e),a}catch(a){}},setCaret:function(a){try{var e;l.is(":focus")&&((e=l.get(0)).setSelectionRange?e.setSelectionRange(a,a):((e=e.createTextRange()).collapse(!0),e.moveEnd("character",a),e.moveStart("character",a),e.select()))}catch(a){}},events:function(){l.on("keydown.mask",function(a){l.data("mask-keycode",a.keyCode||a.which),l.data("mask-previus-value",l.val()),l.data("mask-previus-caret-pos",$.getCaret()),$.maskDigitPosMapOld=$.maskDigitPosMap}).on(s.jMaskGlobals.useInput?"input.mask":"keyup.mask",$.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){l.keydown().keyup()},100)}).on("change.mask",function(){l.data("changed",!0)}).on("blur.mask",function(){o===$.val()||l.data("changed")||l.trigger("change"),l.data("changed",!1)}).on("blur.mask",function(){o=$.val()}).on("focus.mask",function(a){!0===y.selectOnFocus&&s(a.target).select()}).on("focusout.mask",function(){y.clearIfNotMatch&&!n.test($.val())&&$.val("")})},getRegexMask:function(){for(var a,e,t,n,r=[],o=0;o<k.length;o++)(a=j.translation[k.charAt(o)])?(e=a.pattern.toString().replace(/.{1}$|^.{1}/g,""),t=a.optional,(a=a.recursive)?(r.push(k.charAt(o)),n={digit:k.charAt(o),pattern:e}):r.push(t||a?e+"?":e)):r.push(k.charAt(o).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return r=r.join(""),n&&(r=r.replace(new RegExp("("+n.digit+"(.*"+n.digit+")?)"),"($1)?").replace(new RegExp(n.digit,"g"),n.pattern)),new RegExp(r)},destroyEvents:function(){l.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(a){var e=l.is("input")?"val":"text";return e=0<arguments.length?(l[e]()!==a&&l[e](a),l):l[e]()},calculateCaretPosition:function(a){var e=$.getMasked(),t=$.getCaret();if(a!==e){for(var n=l.data("mask-previus-caret-pos")||0,e=e.length,r=a.length,o=a=0,s=0,i=0,c=t;c<e&&$.maskDigitPosMap[c];c++)o++;for(c=t-1;0<=c&&$.maskDigitPosMap[c];c--)a++;for(c=t-1;0<=c;c--)$.maskDigitPosMap[c]&&s++;for(c=n-1;0<=c;c--)$.maskDigitPosMapOld[c]&&i++;r<t?t=10*e:t<=n&&n!==r?$.maskDigitPosMapOld[t]||(t=(n=t)-(i-s)-a,$.maskDigitPosMap[t]&&(t=n)):n<t&&(t=t+(s-i)+o)}return t},behaviour:function(a){a=a||window.event,$.invalid=[];var e=l.data("mask-keycode");if(-1===s.inArray(e,j.byPassKeys)){e=$.getMasked();var t=$.getCaret(),n=l.data("mask-previus-value")||"";return setTimeout(function(){$.setCaret($.calculateCaretPosition(n))},s.jMaskGlobals.keyStrokeCompensation),$.val(e),$.setCaret(t),$.callbacks(a)}},getMasked:function(a,e){var t,n,r,o=[],s=void 0===e?$.val():e+"",i=0,c=k.length,l=0,p=s.length,u=1,f="push",d=-1,v=0;for(e=[],n=y.reverse?(f="unshift",u=-1,t=0,i=c-1,l=p-1,function(){return-1<i&&-1<l}):(t=c-1,function(){return i<c&&l<p});n();){var m=k.charAt(i),h=s.charAt(l),g=j.translation[m];g?(h.match(g.pattern)?(o[f](h),g.recursive&&(-1===d?d=i:i===t&&i!==d&&(i=d-u),t===d&&(i-=u)),i+=u):h===r?(v--,r=void 0):g.optional?(i+=u,l-=u):g.fallback?(o[f](g.fallback),i+=u,l-=u):$.invalid.push({p:l,v:h,e:g.pattern}),l+=u):(a||o[f](m),h===m?(e.push(l),l+=u):(r=m,e.push(l+v),v++),i+=u)}return a=k.charAt(t),c!==p+1||j.translation[a]||o.push(a),o=o.join(""),$.mapMaskdigitPositions(o,e,p),o},mapMaskdigitPositions:function(a,e,t){for(a=y.reverse?a.length-t:0,$.maskDigitPosMap={},t=0;t<e.length;t++)$.maskDigitPosMap[e[t]+a]=1},callbacks:function(a){function e(a,e,t){"function"==typeof y[a]&&e&&y[a].apply(this,t)}var t=$.val(),n=t!==o,r=[t,a,l,y];e("onChange",!0==n,r),e("onKeyPress",!0==n,r),e("onComplete",t.length===k.length,r),e("onInvalid",0<$.invalid.length,[t,a,l,$.invalid,y])}};l=s(l);var n,j=this,o=$.val();k="function"==typeof k?k($.val(),void 0,l,y):k,j.mask=k,j.options=y,j.remove=function(){var a=$.getCaret();return j.options.placeholder&&l.removeAttr("placeholder"),l.data("mask-maxlength")&&l.removeAttr("maxlength"),$.destroyEvents(),$.val(j.getCleanVal()),$.setCaret(a),l},j.getCleanVal=function(){return $.getMasked(!0)},j.getMaskedVal=function(a){return $.getMasked(!1,a)},j.init=function(a){if(a=a||!1,y=y||{},j.clearIfNotMatch=s.jMaskGlobals.clearIfNotMatch,j.byPassKeys=s.jMaskGlobals.byPassKeys,j.translation=s.extend({},s.jMaskGlobals.translation,y.translation),j=s.extend(!0,{},j,y),n=$.getRegexMask(),a)$.events(),$.val($.getMasked());else{y.placeholder&&l.attr("placeholder",y.placeholder),l.data("mask")&&l.attr("autocomplete","off");for(var e=!(a=0);a<k.length;a++){var t=j.translation[k.charAt(a)];if(t&&t.recursive){e=!1;break}}e&&l.attr("maxlength",k.length).data("mask-maxlength",!0),$.destroyEvents(),$.events(),a=$.getCaret(),$.val($.getMasked()),$.setCaret(a)}},j.init(!l.is("input"))}s.maskWatchers={};function e(){var a=s(this),e={},t=a.attr("data-mask");if(a.attr("data-mask-reverse")&&(e.reverse=!0),a.attr("data-mask-clearifnotmatch")&&(e.clearIfNotMatch=!0),"true"===a.attr("data-mask-selectonfocus")&&(e.selectOnFocus=!0),c(a,t,e))return a.data("mask",new i(this,t,e))}var c=function(a,e,t){t=t||{};var n=s(a).data("mask"),r=JSON.stringify;a=s(a).val()||s(a).text();try{return"function"==typeof e&&(e=e(a)),"object"!=typeof n||r(n.options)!==r(t)||n.mask!==e}catch(a){}},a=function(a){var e=document.createElement("div"),t=(a="on"+a)in e;return t||(e.setAttribute(a,"return;"),t="function"==typeof e[a]),t};s.fn.mask=function(a,e){e=e||{};function t(){if(c(this,a,e))return s(this).data("mask",new i(this,a,e))}var n=this.selector,r=(o=s.jMaskGlobals).watchInterval,o=e.watchInputs||o.watchInputs;return s(this).each(t),n&&""!==n&&o&&(clearInterval(s.maskWatchers[n]),s.maskWatchers[n]=setInterval(function(){s(document).find(n).each(t)},r)),this},s.fn.masked=function(a){return this.data("mask").getMaskedVal(a)},s.fn.unmask=function(){return clearInterval(s.maskWatchers[this.selector]),delete s.maskWatchers[this.selector],this.each(function(){var a=s(this).data("mask");a&&a.remove().removeData("mask")})},s.fn.cleanVal=function(){return this.data("mask").getCleanVal()},s.applyDataMask=function(a){((a=a||s.jMaskGlobals.maskElements)instanceof s?a:s(a)).filter(s.jMaskGlobals.dataMaskAttr).each(e)},a={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&a("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}},s.jMaskGlobals=s.jMaskGlobals||{},(a=s.jMaskGlobals=s.extend(!0,{},a,s.jMaskGlobals)).dataMask&&s.applyDataMask(),setInterval(function(){s.jMaskGlobals.watchDataMask&&s.applyDataMask()},a.watchInterval)},window.jQuery,window.Zepto),$(document).ready(function(){cpfcnpjValidation(),mask(),navmenu(),overlay()}),$("#cpfcnpj-add").click(function(){$(".cpfcnpj-group").append('<div class="field"><img src="images/cpf-cnpj.svg" alt=""><input type="tel" class="mask-cpfcnpj cpfcnpj-validation" placeholder="CPF / CNPJ"><span title="Remover este campo" class="remove-cpfcnpj">&times;</span></div>'),mask(),cpfcnpjValidation()}),$(".cpfcnpj-group").on("click",".remove-cpfcnpj",function(){$(this).parent().remove()}),$("#submit").click(function(a){a.preventDefault(),$("#form-error").html(""),$("#form input.required").each(function(a){0==$(this).val().length?$(this).addClass("error"):$(this).removeClass("error")}),$("#form select.required").each(function(a){0==$(this).val()?$(this).addClass("error"):$(this).removeClass("error")}),$("#form input[type=checkbox]").each(function(a){$(this).is(":checked")?$(this).removeClass("error-acceptance"):$(this).addClass("error-acceptance")});var e=!1;$("#form input[name=finalidade]").each(function(a){$(this).is(":checked")&&(e=!0)}),1==e?$("#finalidade").removeClass("error"):$("#finalidade").addClass("error");var t=!1;$(".cpfcnpj-group input").each(function(a){0!=$(this).val().length&&(t=!0)}),1==t?$("#cpfcnpj-group-error").removeClass("error"):$("#cpfcnpj-group-error").addClass("error"),$("#form input, #form select, #finalidade, #cpf-cnpjgroup-error").each(function(a){$(this).hasClass("error")?($(".overlay, .overlay-content.warning").addClass("active").find("p").html("Foram encontrados erros! Cheque todos os campos e envie novamente."),a.stopPropagation()):$(this).hasClass("error-acceptance")?($(".overlay, .overlay-content.warning").addClass("active").find("p").html("Você precisa aceitar os termos de uso para continuar."),a.stopPropagation()):$(".overlay, .overlay-content.warning").addClass("active").find("p").html("")}),$(".overlay, .overlay-content.success").addClass("active").find("p").html("Enviando sua mensagem...");var n=[];$(".cpfcnpj-group div").each(function(){n.push($(this).find("input").val())});var r=n.length,o=n.join(),s=$("#nome-do-caso").val(),i=$('input[name="finalidade"]:checked').data("finalidade"),c=$("#servico").val().toUpperCase(),l=$("#nome-solicitante").val(),a=$("#email-solicitante").val();$.ajax({type:"POST",url:baseUrl+"/functions.php",data:{cpfcnpjqty:r,cpfcnpj:o,nomecaso:s,finalidade:i,servico:c,nomesolicitante:l,emailsolicitante:a}}).done(function(a){}).fail(function(a,e){console.log("Request failed: "+e)}).always(function(){window.location.href=baseUrl+"/mensagem-enviada.html"})});